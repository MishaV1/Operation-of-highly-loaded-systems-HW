## Задание 1
Создал папки с помощью mkdir с файлами index.html и запустил python http сервер: 
![img_4.png](images/img_4.png)

![img_3.png](images/img_3.png)

С помощью curl преверим работу серверов на python
![img_1.png](images/img_1.png)

![img_2.png](images/img_2.png)

## Задание 2
Создадим конфиг для dnsmasq с указанием адресов 
![img_14.png](images/img_14.png)

Проверка результата запуска dnsmasq:
![img.png](images/img.png)

обращение для резолва через dig
![img_5.png](images/img_5.png)

Попробовал остановить один из серверов, чтоб проверить как работает
![img_6.png](images/img_6.png)

По сути dns не решает проблемы с отключенным вторым сервером, и нужно отдельно делать балансировщик нагрузки, который будет отправлять запросы на работающие сервера
## Задание 3
Создал интерфейс, на порту 80 работает виртуальный сервер с round robin алгоритмом распределения нагрузки, и два обычных сервера на портах 8081 и 8082: 
![img_10.png](images/img_10.png)

![img_9.png](images/img_9.png)

Результаты прогонов запросов и статистика:
![img_7.png](images/img_7.png)
![img_8.png](images/img_8.png)

По данным из запроса видно, что запросы распределяются равномерно, разница в 1 из-за нечетного кол-ва запросов
## Задание 4
Создадим nginx конфигурацию для L7 балансировки
![img_13.png](images/img_13.png)
active-backup балансировка расположена на 8082 порту

для проверки работы балансировщика я выключил один серверов 
![img_15.png](images/img_15.png)

в tshark видим запрос на 8888 порт
![img_12.png](images/img_12.png)
![img_16.png](images/img_16.png)
![img_17.png](images/img_17.png)
![img_18.png](images/img_18.png)
есть заголовок X-high-load-test: 123, который добавялет сам nginx

Результат ответа запроса обычного curl, возвращается ответ от backend2:
![img_11.png](images/img_11.png)
